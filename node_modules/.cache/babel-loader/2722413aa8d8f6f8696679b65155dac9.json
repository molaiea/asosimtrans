{"ast":null,"code":"import _classCallCheck from\"/home/molaiea/asosimtrans/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/molaiea/asosimtrans/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/molaiea/asosimtrans/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/molaiea/asosimtrans/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{withRouter}from'react-router-dom';import logo from\"../assets/logo.svg\";var Signin=/*#__PURE__*/function(_React$Component){_inherits(Signin,_React$Component);var _super=_createSuper(Signin);function Signin(props){var _this;_classCallCheck(this,Signin);_this=_super.call(this,props);_this.onEmailChange=function(e){_this.setState({email:e.target.value});console.log(_this.state.email);};_this.onPassChange=function(e){_this.setState({password:e.target.value});console.log(_this.state.password);};_this.handleClick=function(){var _this$props=_this.props,onRouteChange=_this$props.onRouteChange,history=_this$props.history;fetch('https://nameless-sands-32962.herokuapp.com/login',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:_this.state.email,pass:_this.state.password})}).then(function(response){var promise=response.json();promise.then(function(result){if(result.response){history.push(\"/admin\");onRouteChange(\"admin\");}else{alert(\"Email ou Mot de passe incorrecte\");}});}).catch(function(error){console.error('There was an error!',error);});};_this.state={email:'',password:'',route:''};return _this;}_createClass(Signin,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"article\",{className:\"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center mv7 \"},/*#__PURE__*/React.createElement(\"main\",{className:\"pa4 black-80\"},/*#__PURE__*/React.createElement(\"form\",{className:\"measure\"},/*#__PURE__*/React.createElement(\"fieldset\",{id:\"sign_up\",className:\"ba b--transparent ph0 mh0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"logoadmin\"},/*#__PURE__*/React.createElement(\"img\",{src:logo})),/*#__PURE__*/React.createElement(\"div\",{className:\"mt3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"email-address\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onEmailChange,className:\"pa2 input-reset ba hover-bg-black hover-white w-100\",type:\"email\",name:\"email-address\",id:\"email-address\",placeholder:\"Addresse email\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"mv3\"},/*#__PURE__*/React.createElement(\"label\",{className:\"db fw6 lh-copy f6\",htmlFor:\"password\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{onChange:this.onPassChange,className:\"b pa2 input-reset ba hover-bg-black hover-white w-100\",type:\"password\",name:\"password\",id:\"password\",placeholder:\"Mot de passe\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"center\"},/*#__PURE__*/React.createElement(\"div\",{onClick:this.handleClick,className:\"b ph3 pv2 input-reset mt-4 b--black bg-dark-blue grow pointer f6 dib p-2 br4 w-50 \"},\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"white f4\"},\"CONNEXION \"))))));}}]);return Signin;}(React.Component);export default withRouter(Signin);","map":{"version":3,"sources":["/home/molaiea/asosimtrans/src/Admin/Signin.js"],"names":["React","withRouter","Signin","props","onEmailChange","e","setState","email","target","value","console","log","state","onPassChange","password","handleClick","onRouteChange","history","fetch","method","headers","body","JSON","stringify","pass","then","response","promise","json","result","push","alert","catch","error","route","logo","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport logo from '../assets/logo.svg';\n\n\nclass Signin extends React.Component{\n\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state={\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\troute: ''\n\t\t}\n\t}\n\n\n\tonEmailChange=(e)=>{\n\t\tthis.setState({\n\t\t\temail: e.target.value\n\t\t})\n\t\tconsole.log(this.state.email)\n\t}\n\tonPassChange=(e)=>{\n\t\tthis.setState({\n\t\t\tpassword: e.target.value\n\t\t})\n\t\tconsole.log(this.state.password)\n\t}\n\n\thandleClick = ()=>{\n\t\tconst {onRouteChange, history} = this.props;\n\t\tfetch('https://nameless-sands-32962.herokuapp.com/login', {\n\t\t\tmethod: 'post',\n\t\t\theaders: {'Content-Type': 'application/json'},\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail: this.state.email,\n\t\t\t\tpass: this.state.password\n\t\t\t})\n\t\t})\n        .then( response => {\n        \tconst promise = response.json();\n\n        \tpromise.then(result=>{\n        \t\tif(result.response){\n        \t\t\t\n        \t\t\thistory.push(\"/admin\");\n        \t\t\tonRouteChange(\"admin\");\n        \t\t}\n        \t\telse{\n        \t\t\talert(\"Email ou Mot de passe incorrecte\")\n        \t\t}\n        \t})\n            \n\n        })\n        .catch(error => {\n            console.error('There was an error!', error);\n        });\n\t}\n\n\trender(){\n\t\t\n\t\treturn(\n\t\t\t<article className=\"br3 ba dark-gray b--black-10 mv4 w-100 w-50-m w-25-l mw6 shadow-5 center mv7 \">\n\t\t<main className=\"pa4 black-80\">\n\t\t  <form className=\"measure\">\n\t\t    <fieldset id=\"sign_up\" className=\"ba b--transparent ph0 mh0\">\n\t\t    <div className=\"logoadmin\">\n\t\t    <img src={logo} />\n\t\t      </div>\n\t\t      <div className=\"mt3\">\n\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"email-address\">Email</label>\n\t\t        <input onChange={this.onEmailChange} \n\t\t        className=\"pa2 input-reset ba hover-bg-black hover-white w-100\" \n\t\t        type=\"email\" name=\"email-address\"  id=\"email-address\"\n\t\t        placeholder=\"Addresse email\"/>\n\t\t      </div>\n\t\t      <div className=\"mv3\">\n\t\t        <label className=\"db fw6 lh-copy f6\" htmlFor=\"password\">Password</label>\n\t\t        <input onChange={this.onPassChange} \n\t\t        className=\"b pa2 input-reset ba hover-bg-black hover-white w-100\" \n\t\t        type=\"password\" name=\"password\"  id=\"password\"\n\t\t        placeholder=\"Mot de passe\"/>\n\t\t      </div>\n\t\t    </fieldset>\n\t\t    <div className=\"center\">\n\t\t      <div \n\t\t      onClick={this.handleClick}\n\t\t      className=\"b ph3 pv2 input-reset mt-4 b--black bg-dark-blue grow pointer f6 dib p-2 br4 w-50 \" \n\t\t      > <span className=\"white f4\">CONNEXION </span></div>\n\t\t    </div>\n\t\t    \n\t\t  </form>\n\t\t</main>\n\t\t</article>\n\t\t)\n\t}\n}\n\nexport default withRouter(Signin);"]},"metadata":{},"sourceType":"module"}